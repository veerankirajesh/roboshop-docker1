networks:
  default:
    external: true
    name: roboshop

services:
  # Equivalent to: docker run -d --name mongodb --network=roboshop mongodb:1
  mongodb:
    image: mongodb:1

  # Equivalent to: docker run -d --name catalogue --network=roboshop catalogue:1
  catalogue:
    image: catalogue:1
    depends_on:
      - mongodb

  redis:
    image: redis  # Changed from redis:1 to redis:7 (official tag)

  user:
    image: user:1
    depends_on:
      - redis
      - mongodb

  cart:
    image: cart:1
    depends_on:
      - catalogue
      - mongodb   

  frontend:
    image: frontend:1
    ports:
      - "80:80"
    depends_on:
      - catalogue
      # - user
      # - cart
      # - shipping
      # - payment
